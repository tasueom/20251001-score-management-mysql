{% extends "layout.html" %}

{% block title %}전체 성적 조회{% endblock %}

{% block content %}
<h2>전체 성적 조회</h2>
<form action="{{url_for('score_list')}}">
    <select name="ban">
        <option value="0" {% if ban=="0" %}selected{% endif %}>전체</option>
        <option value="1" {% if ban=="1" %}selected{% endif %}>1반</option>
        <option value="2" {% if ban=="2" %}selected{% endif %}>2반</option>
        <option value="3" {% if ban=="3" %}selected{% endif %}>3반</option>
        <option value="4" {% if ban=="4" %}selected{% endif %}>4반</option>
        <option value="5" {% if ban=="5" %}selected{% endif %}>5반</option>
    </select>
    <button type="submit">조회</button>
</form>
{% if scores %}
<h3>{{ "전체" if ban=="0" else ban~"반" }} 통계</h3>
<table>
    <tr>
        <th>평균</th>
        <th>최고</th>
        <th>최저</th>
    </tr>
    <tr>
        <td>{{stats[0]}}</td>
        <td>{{stats[1]}}</td>
        <td>{{stats[2]}}</td>
    </tr>
</table>
<h3>{{ "전체" if ban=="0" else ban~"반" }} 성적 목록</h3>
<table>
    <tr>
        <th>학번</th>
        <th>반</th>
        <th>이름</th>
        <th>국어</th>
        <th>영어</th>
        <th>수학</th>
        <th>총점</th>
        <th>평균</th>
        <th>학점</th>
    </tr>
    {% for s in scores %}
    <tr>
        <td>{{s[0]}}</td>
        <td>{{s[1]}}</td>
        <td>{{s[2]}}</td>
        <td>{{s[3]}}</td>
        <td>{{s[4]}}</td>
        <td>{{s[5]}}</td>
        <td>{{s[6]}}</td>
        <td>{{s[7]}}</td>
        <td>{{s[8]}}</td>
    </tr>
    {% endfor %}
</table>
{% else %}
입력된 성적이 없습니다.
{% endif %}
{% endblock %}